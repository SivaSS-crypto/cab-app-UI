<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<link rel="stylesheet" href="styles.css">				<!--linking with css class-->
</head>

<body align=center>
	<div class="last">
	<form onsubmit="use()">							<!--calling the use() function-->

		<h2>BOOKING DATE</h2>
		<label>Enter Journey Date</label>
		<input type="date" name="journeydate" id="date" min="2021-04-19" max="2021-04-30" required>
		<br />
		<br />
		<label>Enter Journey Time</label>
		<input type="time" name="journeytime" id="time" required>
		<br />
		<br />

		<label>GST</label>					<!--Creating label for gst-->
		<input type="text" name="gst" id="gst" value="7%" readonly>
		<p>Select the Senior Citizen If your age is above 60</p>
		<input type="radio" name="SeniorCitizen" id="seniorcitizen" value="Y">Senior Citizen		<!-- Radio Type Input-->
		</input>
		<br />
		<br />
		<label>GENDER</label>
		<input type="radio" name="gender" id="male" value="M">Male
		</input>											<!-- Radio Type Input-->
		<input type="radio" name="gender" id="female" value="F">Female
		</input>
		<br/>
		<br/>
		<button style="color:rgb(150, 3, 137)" onclick=use()>Next</button>

	</form>
</div>
	<script>
		function use() {
			event.preventDefault();
			alert("Booked Successfully");					// Alert for Success Booking
			let url = new URL(window.location.href);			//Creating object to get the value form previous page
			let amount = url.searchParams.get("price");			 //Search for value in previous page and assigning it to amount
			
			let timeValue = document.querySelector("#time").value;		 //Getting form values
			let timestr = timeValue.substr(0, 2);				//Get the substrings of time
			let time = parseInt(timestr);					//converting string into integer
			let checked = document.querySelector("#seniorcitizen").checked; //Checking for Senior Citizen

			
			if (checked) {
				amount = amount / 2.0;
				alert(" FOr Senior Citizen 50% Discount :" + amount);
			}

			if (time >= 17 && time <= 20) {
				//Condition for PeakHour
				alert(" Your Journey is On PeaK HouR  (Usual Fare*0.25)");
				amount + = amount * 0.25;
				

			}
			alert("Your final amount " + amount);
				window.location.href = "BillPage4.html?amount=" + amount; //Passing the amount to BillPage

			
		
		}




	</script>

</body>

</html>
